let phrase = {
    "ru": {
        "registration_account": "Регистрация аккаунта",
        "description": "Описание",
        "forum": "Форум",
        "launcher": "Лаунчер",
        "setting": "Настройки",
        "way_to_game": "Пути к игре",
        "updates": "Обновления",
        "download_launcher": "Скачать Launcher",
        "about_launcher": "О программе",
        "start_update": "Начать обновление",
        "logs": "Лог",
        "apply": "Применить",
        "need_select_client_dir": "Выберите папку клиента для",
        "setting_launcher": "Настройки лаунчера",
        "files": "Файлы",
        "autoload": "Автозагрузка",
        "autoload_desc": "Лаунчер не нужно будет запускать, он не потербляет память. После старта Windows, лаунчер будет загружен в память, и срабатывать только при обращении к нему.",
        "autoupdate_launcher": "Автообновление",
        "autoupdate_launcher_desc": "Лаунчер будет периодически проверять обновление, и обновляться если вышла новая версия.",
        "is_save_loading_file": "Сохранять загруженные файлы",
        "is_save_loading_file_desc": "Если \"Да\", лаунчер будет сохранять файлы патчей, для того чтоб не загружать их в будущем в случае если когда-то ранее Вы его уже загружали.\nДанная опция может сократить время загрузки.",
        "close": "Закрыть",
        "setting_way_to_game": "Настройка путей",
        "update": "Обновление",
        "launcher_description":"Web-Launcher - это программа для обновления и загрузки файлов игры.<br>\n" +
            "Лаунчер использует передовые технологии, для обеспечения максимальной скорости и удобства использования.<br>\n" +
            "<br>",
        "ok":"OK",
        "your_need_launcher":"У Вас нет лаунчера?",
        "need_start_launcher":"Необходимо запустить лаунчер!",
        "start_game": "Запуск игры",
        "no_download": "Нет загрузки",
        "loading_is_complete": "Загрузка завершена",
        "download_canceled": "Загрузка отменена",
        "error": "Ошибка",
        "cancel_update": "Отменить обновление",
        "connect": "Подключение",
        "not_dir": "Тут больше нету папок.<br>Нажмите на кнопку <Сохранить> и мы сюда будем загружать клиент!",
        "file_upload": "Загрузка файлов",
        "file_comparison": "Сравнение файлов",
        "stream": "Потоки",
        "countStream": "Количество потоков",
        "countStream_description": "Укажите кол-во загружаемых одновременно файлов",
        "word_launcher_is_started": "Лаунчер был запущен",



        "notify_message": "%s",
        "its_already_loading": "Уже идет загрузка",
        "server_does_not_have_permission": "Сервер не имеет разрешения на использование лаунчера",
        "no_update_required": "Обновление не требуется",
        "start_of_update": "Начало обновления",
        "counting_files_for_update": "Подсчет необходимых файлов для обновления",
        "update_required_for_files": "Необходимо обновить %d файлов",
        "forced_download_stopped": "Загрузка принудительно остановлена",
        "update_successful": "Обновление успешно завершено",
        "update_error": "Ошибка обновления: При попытке скачать файл %s был получен StatusCode %d",
        "file_download_error": "Произошла ошибка загрузки файла",
        "game_launched": "Игра была запущена",
        "folder_not_exists": "Папка %s не существует",
        "error_checking_folder": "Ошибка при проверке папки %s: %s",
        "game_and_client_files_different": "Файлы игры и файлы клиента - разные. Необходимо обновиться.",
        "empty_command_received": "Вы прислали пустую команду",
        "json_request_read_error": "Ошибка чтения json запроса",
        "turn_off": "Выключить",
        "open_website": "Открыть сайт",
        "update_interrupted": "Обновление было прервано",
        "unpacking_file_failed": "Не удалось распаковать файл: %s",
        "you_do_not_have_permissions_to_perform_this_action": "У вас нет прав на выполнение действий",
        "directory_does_not_exist": "Директория не существует: %s",
        "error_checking_directory": "Ошибка при проверке директории: %s",
    },
    "en": {
        "registration_account": "Registration account",
        "description": "Description",
        "forum": "Forum",
        "launcher": "Launcher",
        "setting": "Settings",
        "way_to_game": "Paths to game",
        "updates": "Updates",
        "download_launcher": "Download Launcher",
        "about_launcher": "About",
        "start_update": "Start Update",
        "logs": "Log",
        "apply": "Apply",
        "need_select_client_dir": "Select client folder for",
        "setting_launcher": "Launcher settings",
        "files": "Files",
        "autoload": "Autoload",
        "autoload_desc": "The launcher won't need to be started, it won't consume memory. After Windows starts, the launcher will be loaded into memory, and will only fire when accessed.",
        "autoupdate_launcher": "Autoupdate",
        "autoupdate_launcher_desc": "Launcher will periodically check for updates, and update if a new version is available.",
        "is_save_loading_file": "Save downloaded files",
        "is_save_loading_file_desc": "If \"Yes\", the launcher will save patch files in order not to download them in the future if you have already downloaded it before.\nThis option may reduce the loading time.",
        "close": "Close",
        "setting_way_to_game": "Setting Ways",
        "update": "Update",
        "launcher_description":"Web-Launcher is a program to update and download game files.<br>\n" +
            "Launcher uses cutting-edge technology to ensure maximum speed and ease of use.<br>\n" +
            "<br>",
        "ok":"OK",
        "your_need_launcher": "Don't have a launcher?",
        "need_start_launcher": "Need to start the launcher!",
        "start_game": "Start game",
        "no_download": "No download",
        "loading_is_complete": "Loading Complete",
        "download_canceled": "Download cancelled",
        "error": "Error",
        "cancel_update": "Cancel update",
        "connect": "Connect",
        "not_dir": "There are no more folders here.<br>Click on the <Save> button and we will load the client here!",
        "file_upload": "File Upload",
        "file_comparison": "File comparison",
        "stream": "Streams",
        "countStream": "Number of streams",
        "countStream_description": "Specify the number of files to download simultaneously",
        "word_launcher_is_started": "Launcher has been successfully launched",

        "notify_message": "%s",
        "its_already_loading": "Loading is already in progress",
        "server_does_not_have_permission": "The server is not authorized to use the launcher",
        "no_update_required": "No update is needed",
        "start_of_update": "Starting the update",
        "counting_files_for_update": "Counting the required update files",
        "update_required_for_files": "You need to update %d files",
        "forced_download_stopped": "Forced download stopped",
        "update_successful": "Update completed successfully",
        "update_error": "Update error: StatusCode %d received when attempting to download file %s",
        "file_download_error": "An error occurred during file download",
        "game_launched": "The game has been launched",
        "folder_not_exists": "Folder %s does not exist",
        "error_checking_folder": "Error checking folder %s: %s",
        "game_and_client_files_different": "Game files and client files are different. An update is required.",
        "empty_command_received": "You sent an empty command",
        "json_request_read_error": "Error reading JSON request",
        "turn_off": "Turn off",
        "open_website": "Open site",
        "update_interrupted": "The update was interrupted",
        "unpacking_file_failed": "Failed to unpack file: %s",
        "you_do_not_have_permissions_to_perform_this_action": "You do not have permission to perform actions",
        "directory_does_not_exist": "Directory does not exist: %s",
        "error_checking_directory": "Error checking directory: %s"
    },

};

function sprintf(format) {
    let args = Array.prototype.slice.call(arguments, 1);
    return format.replace(/%[sd]/g, function(match) {
        if (args.length === 0) return match;
        return args.shift();
    });
}

function getPhrase(fphrase, ...param) {
    lang = userLang
    if (phrase && phrase[lang] && phrase[lang][fphrase]) {
        return sprintf(phrase[lang][fphrase], ...param);
    } else {
        return `No Phrase <${fphrase}>`;
    }
}


var word_need_start_launcher;
var word_no_download;
var word_loading_is_complete;
var word_download_canceled;
var word_error;
var word_cancel_update;
var word_start_update;
var word_connect;
var word_not_dir;
var word_file_upload;
var word_file_comparison;
var word_launcher;
var word_launcher_is_started;

// loadWorld()

function loadWorld() {
    let elementsWithDataPhrase = $('[data-phrase]');
    elementsWithDataPhrase.each(function (index) {
        let phraseName = $(this).data("phrase");
        let translatedPhrase = getPhrase(phraseName);
        $(this).html(translatedPhrase);
    });

    word_need_start_launcher = getPhrase("need_start_launcher");
    word_no_download = getPhrase("no_download");
    word_loading_is_complete = getPhrase("loading_is_complete");
    word_download_canceled = getPhrase("download_canceled");
    word_error = getPhrase("error");
    word_start_update = getPhrase("start_update");
    word_cancel_update = getPhrase("cancel_update");
    word_connect = getPhrase("connect");
    word_not_dir = getPhrase("not_dir");
    word_file_upload = getPhrase("file_upload");
    word_file_comparison = getPhrase("file_comparison");
    word_launcher = getPhrase("launcher");
    word_launcher_is_started = getPhrase("word_launcher_is_started");
}
